{% extends "base.html" %}
{% block page_title %}Регистрация{% endblock %}
{% block body %}
<body>
  <div class="d-flex justify-content-center align-items-center vh-100 bg-light">
    <div class="card shadow-lg p-4 m-2" style="width: 400px; border-radius: 10px;">
      <h1 class="text-center mb-4">Регистрация</h1>
      <form method="post" id="registerForm">
        <!-- Имя пользователя -->
        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="username" name="username" placeholder="Имя пользователя" required>
          <label for="username">Имя пользователя</label>
        </div>
        <!-- Электронная почта -->
        <div class="form-floating mb-3">
          <input type="email" class="form-control" id="email" name="email" placeholder="Электронная почта" required>
          <label for="email">Электронная почта</label>
        </div>
        <!-- Пароль -->
        <div class="form-floating mb-3">
          <input type="password" class="form-control" id="password" name="password" placeholder="Пароль" required>
          <label for="password">Пароль</label>
        </div>
        <!-- Кнопка -->
        <button type="submit" id="registerButton" class="btn btn-primary w-100 py-2 d-flex align-items-center justify-content-center">
          <span id="spinner" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true" style="display: none;"></span>
          <span id="buttonText">Зарегистрироваться</span>
        </button>
      </form>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.getElementById("registerForm").addEventListener("submit", function (e) {
      const button = document.getElementById("registerButton");
      const spinner = document.getElementById("spinner");
      const buttonText = document.getElementById("buttonText");

      // Показываем спиннер и блокируем кнопку
      spinner.style.display = "inline-block";
      buttonText.textContent = "Загрузка...";
      button.disabled = true;

      // Имитация задержки загрузки (например, 2 секунды)
      setTimeout(() => {
        this.submit(); // Отправляем форму после задержки
      }, 2000);

      // Предотвращаем немедленную отправку формы
      e.preventDefault();
    });
  </script>
</body>
{% endblock %}
